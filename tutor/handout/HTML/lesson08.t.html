<!DOCTYPE html>
<html>
  <head>
    <title>第八課：事件</title>
    <meta charset="utf-8">
    <style type="text/css">
		</style>
		<script type="text/javascript" src="../../jQuery/jquery.min.js"></script>
		<script src="../../system/system.js"></script>
		<script src="../highlight.js"></script>
		<link rel="stylesheet" href="../pattern.css">
  </head>	
<body>
	<h4>事件屬性：</h4>
	<ol>
		<li>load, unload, error, click, dblclick, change, focus, blur, abort, sumbit, select</li>
		<li>keydown, keypress, keyup</li>
		<li>mousein, mouseout, mousemove, mouseover, mousedown, mouseup, mousewheel</li>
		<li>touchstart, touchmove, touchend</li>
		<li>drag, dragstart, dragend, dragenter, dragleave, dragover, drop</li>
		<li>resize, scroll</li>
		<li>afterprint, beforeprint</li>
		<li>online, offline</li>
		<li>cut, paste, redo, undo, ctextmenu</li>
	</ol>

	<h4>事件用法：</h4>
	<ol>
		<li>內聯：寫在元素的事件屬性
			<pre><code class='html'>
				&lt;input type="button" onclick="alert('jim')" /&gt;				

				&lt;input type="button" onclick="click('jim')" /&gt;

				function click(data) {
					alert(data)
				}
			</code></pre>			
		</li>
		<li>外部／內部：在 script 內，事件綁定／移除；(屬性用法要加 on，反之不用加)
			<pre><code>
				document.getElementById("mouse").onclick = function(e){
					this.innerHTML = "滑鼠事件移除";
				}

				document.getElementById("code").addEventListener("keydown", function(e){
					document.getElementById("code").innerHTML = e.keyCode + ": " + e.key;
				}, false);
		
				document.getElementById("mouse").addEventListener("mousemove", move, false);
				document.getElementById("mouse").removeEventListener("mousemove", move, false);
				function move(e){
					this.innerHTML = "X: " + e.offsetX + "; Y: " + e.offsetY;
				}
			</code></pre>
		</li>
	</ol>

	<h4>DOM Event Object - 方法</h4>
	<ol>
		<li>preventDefault()</li>
		<li>stopImmediatePropagation()</li>
		<li>stopPropagation()</li>
	</ol>
	
	<h4>DOM Event Object - 屬性</h4>
	<ol>
		<li>type：事件名稱</li>
		<li><h4>滑鼠</h4>
			<ul>
				<li>x, y：</li>
				<li>screenX, screenY：</li>
				<li>pageX, pageY：</li>
				<li>clientX, clientY：</li>
				<li>offsetX, offsetY：</li>
				<li>button：0 | 1 | 2；按下那個鍵</li>
				<li>buttons：1 | 2 | 4；同時按下那些鍵</li>
			</ul>
		</li>
		<li><h4>鍵盤</h4>
			<ul>
				<li>key：輸入字元</li>
				<li>keyCode：輸入字元的 ASCII碼(keydpress 只會大寫的)</li>
				<li>which：輸入字元的 ASCII 碼(keydpress 只會大寫的)，不含控制字元</li>
				<li>altKey：alt 鍵是否按下</li>
				<li>ctrlKey：ctrl 鍵是否按下</li>
				<li>shiftKey：shift 鍵是否按下</li>
				<li>metaKey：cmd / windows 鍵是否按下</li>
			</ul>
		</li>
		<li><h4>元素</h4>
			<ul>
				<li>target：觸發此事件的元素</li>
				<li>currentTarget：監聽該事件的父元素</li>
				<li>toElement：mouseover / mouseout 游標移入的元素</li>
				<li>fromElement：mouseover / mouseout 游標移出的元素</li>
				<li>srcElement：同 target(IE) </li>
			</ul>
		</li>
		<li>returnValue</li>
		<li>cancelBubble</li>
	</ol>
	註：阻止 bubble，有下列三種寫法
	<ul>
		<li>e.preventDefault()</li>
		<li>e.cancelBubble = true</li>
		<li>e.returnValue = false</li>
	</ul>
	<hr />
	<a href='http://www.w3school.com.cn/tags/html_ref_eventattributes.asp' target="_parent">事件屬性(W3 School)</a>
	<br />
	<a href='http://www.w3school.com.cn/jsref/dom_obj_event.asp' target="_parent">DOM Event Object(W3 School)</a>
</body>
</html>