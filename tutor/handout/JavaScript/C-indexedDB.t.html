<!DOCTYPE html>
<html>
<head>
	<title>indexedDB</title>
	<meta charset="utf-8" />
	<style type="text/css">
		h4 {
			display: inline-block;
		}
	</style>
	<link rel="stylesheet" href="../pattern.css">
	<script src="../../system/system.js"></script>
	<script type="text/javascript" src="../../jQuery/jquery.min.js"></script>
	<script src="../highlight.js"></script>
	<script src="system.js"></script>
</head>
<body>
		<a href='https://developer.mozilla.org/zh-TW/docs/Web/API/IndexedDB_API/Using_IndexedDB' target='_parent'>
		indexedDB 資料庫
	</a>
				
	<ol type='a'>
		<li>開啟資庫：open(dbName, version)
			<ol type='1'>
					<li>dbName：資料庫名稱</li>
					<li>version：版號(integer)</li>
					<li>回傳一個 IDBOpenDBRequest 物件
						<ul>
							<li>onsuccess：</li>
							<li>onerror：</li>
							<li>onupgradeneeded</li>
						</ul>
					</li>
			</ol>
		</li>
		<li>關閉資庫：db.close();</li>
		
		<li>建立資料表：db.createObjectStore
			<ol type='1'>
				<li></li>
				<li></li>
			</ol>
		</li>
		<li>
			db.transaction()
			<ol type='1'>
				<li></li>
				<li></li>
			</ol>
		</li>
		<li>transaction.objectStore(storeName)
			<ol type='1'>
				<li></li>
				<li></li>
			</ol>
		</li>
		<li>刪除資料表：db.deleteObjectStore(objectStoreName) </li>
		<li>刪除資料庫：indexedDB.deleteDatabase(name) </li>
	</ol>
	<pre>
		<code class='javascript'>
				var db;
				var request = indexedDB.open("MyTestDatabase");
				request.onerror = function(event) {
					alert("Why didn't you allow my web app to use IndexedDB?!");
				};
				request.onsuccess = function(event) {
					db = request.result;
					// event.target.result
				};
				request.onupgradeneeded = function(event) { 
					var db = event.target.result;
	
					var objectStore = db.createObjectStore("name", {keyPath: "myKey" });
					objectStore.createIndex("name", "name", { unique: false });
				};
		</code>
	</pre>
				
</body>
<script>

</script>
</html>