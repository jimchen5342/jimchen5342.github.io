<!DOCTYPE html>
<html>
<head>
	<title>自訂函式</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="../../jQuery/easyui/themes/default/easyui.css">
	<link rel="stylesheet" type="text/css" href="../../jQuery/easyui/themes/icon.css">
	<link rel="stylesheet" type="text/css" href="../../jQuery/easyui/themes/color.css">
	<script type="text/javascript" src="../../jQuery/jquery.min.js"></script>
	<script type="text/javascript" src="../../jQuery/easyui/jquery.easyui.min.js"></script>
	<link rel="stylesheet" href="../pattern.css">
	<script src="../../system/system.js"></script>
	<script src="../histroy.js"></script>
	<script src="../highlight.js"></script>
	<style type="text/css">
		html,
		body {
			margin: 0;
			padding: 0;
			overflow-y: auto;
			font-size: 16px;
		}
		h4 {
			display: inline-block;
		}
	</style>
</head>
<body class="easyui-tabs" style="width: 100%; height: 100%;" onresize="$('body').tabs('resize')">
	<div title="函式">
		<h4>宣告</h4>
		<ol>
			<li><h4>function</h4>：宣告</li>
			<li>function_name：<br/>
				<ul>
					<li>宣告</li>
					<li>呼叫</li>
					<li>物件變數</li>
				</ul>
			</li>
			<li><h4>()</h4>：引數(argument, 宣告) / 參數(parameter, 呼叫)；<br/>
				<h4>,</h4>：分隔引數/參數
			</li>
			<li><h4>{}</h4>：程式區塊</li>
			<li><h4>return</h4>：傳回值</li>
		</ol>
		<pre>
			<code class='javascript'>
				function add(x, y) { // 函數宣告式
					return x + y;
				}

				let substract = function (x, y) { // 匿名函式
					return x - y;
				}

				function calculate(callback) { // 回調函式(callback)
					return callback(100, 50);
				}

				let a = add(5, 20);                 // 呼叫函式
				let b = calculate(add);             // callback-物件變數
				let c = calculate(substract);       // callback-物件變數
				let d = calculate(function(a, b){   // callback-匿名函式
					return a / b;
				});
				document.write("a: " + a + ", b: " + b + ", c: " + c + ", d: " + d);
			</code>
		</pre>
	</div>
	<div title="立即函式">
		主要在於產生一個私有的 scope，使在其內宣告的變數不會與外界混淆
		<pre>
			<code class='javascript'>
				(function () { 
					//函式內容 
				})();
			</code>
		</pre>
		註：立即函式在 js 檔，所有的函式內容都要在區塊內部
	</div>
	<div title="巢狀函式">
		<h4>巢狀函式(nest function)</h4>
		<pre>
			<code class='javascript'>
				function query(arg){
					 function response(){
						return "hi, ";
					}

					return response() + arg;
				}

				let x = query("jim");
				document.write(x);
			</code>
		</pre>
	</div>
	<div title="遞迴函式">
		<h4>遞迴函式(recursion function)</h4>
		<pre>
			<code class='javascript'>
				var x = 0; 
				function recursion(i){ 
					x += i; 
					document.write(x + "&lt;br /&gt;");
					if(i < 10)
						recursion(i + 1); 
				} 
				recursion(1);
			</code>
		</pre>
	</div>
	<div title="閉包函式">
		<h4>閉包函式(closure)</h4>
		<pre>
			<code class='javascript'>
				function f1(x){ 
					return function(){ 
						return x + 10; 
					}; 
				} 
				document.write(f1(1)());
			</code>
		</pre>
	</div>
	<div title="箭頭函式">
		<h4>箭頭函式(arrow function)</h4>
		<pre>
			<code class='javascript'>
				let f1 = () => {
					document.write(10 * 20);
				}

				let f2 = a => {
					 document.write(a + 5);
				}

				let f3 = (a, b) => {
					document.write(a + 5);
				}
			</code>
		</pre>
	</div>
	<div title="Promise">
		<h4>Promise</h4>
		<pre>
			<code class='javascript'>
				function f1(a, b){
					return new Promise((success, error) => {
						if(a > b)
							success();
						else
							error();
					})
				}

				function f2(a, b){ 
					return new Promise((success, error) => { 
						if(a > b) 
							success(); 
						else 
							error(); 
					}) 
				}

				f1(10, 2) 
				.then(()=>{ 
					return f2(5, 2); 
				})
				.catch(err=>{
					document.write(err); 
				});
			</code>
		</pre>
	</div>
	<div title="引數傳遞">
		<ol>
			<li>call by value(傳值)：
				 Boolean, String, Number, null, undefined
			</li>
			<li>call by reference(傳參考)：</li>
		</ol>
		<pre>
			<code class='javascript'>
				let a = 2, b = a;
				a = 10;
				document.write("b: " + b);

				let x = ["apple", "orange"], y = x;
				x[0] = "fish";
				document.write("y[0]: " + y[0]);
			</code>
		</pre>
	</div>
	<div title="引數存取">
		javascript 在呼叫每個函數時，都會將引數放到一個稱為 arguments 的變數裏，arguments 是一個類似陣列形態，我們可以透過 arguments 來存取每一個參數
		<pre>
			<code class='javascript'>
				function add(){
					let x = 0;
					for(let i = 0; i < arguments.length; i++){
						x += arguments[i];
					}
					return x;
				}
				let a = add(1, 2, 3, 4, 5);
				document.write(a);
			</code>
		</pre>
	</div>
	<!--
		this: 它代表函数运行时，自动生成的一个内部对象，只能在函数内部使用
	 -->
</body>
</html>
