<!DOCTYPE html>
<html>
<head>
	<title>window</title>
	<meta charset="utf-8" />
	<style type="text/css">
		h4 {
			display: inline-block;
		}
	</style>
	<link rel="stylesheet" href="../pattern.css">
	<script src="../../system/system.js"></script>
	<script type="text/javascript" src="../../jQuery/jquery.min.js"></script>
	<script src="../highlight.js"></script>
	<script src="system.js"></script>
</head>
<body>
	<a href='http://techbrood.com/jsref?p=obj-window' target='_parent'>
		http://techbrood.com
	</a><br/>

	<table class='tutor' width="100%">
		<tr><th style="width: 130px;">屬性</th><th>描述</th></tr>
		<tr>
			<td>document</td>
			<td></td>
		</tr>
		<tr>
			<td>history</td>
			<td></td>
		</tr>
		<tr>
			<td>screen</td>
			<td></td>
		</tr>
		<tr>
			<td>navigator</td>
			<td></td>
		</tr>
		<tr>
			<td>location</td>
			<td></td>
		</tr>
	</table>
	<table class='tutor' width="100%">
			<tr><th style="width: 130px;">屬性(HTML 5)</th><th>描述</th></tr>
			<tr>
				<td>
					<a href='http://www.runoob.com/html/html5-webstorage.html' target='_parent'>
						localStorage
					</a>
				</td>
				<td>
					Web 資料儲存
					<h4>方法：</h4>
					<ol>
						<li>getItem(key)</li>
						<li>setItem(key, value)</li>
						<li>removeItem(key)</li>
						<li>clear()</li>
					</ol>
					<h4>屬性：</h4>
					<ol>
						<li>localStorage[key]</li>
						<li>length</li>
					</ol>
				</td>
			</tr>
			<tr>
				<td>sessionStorage</td>
				<td>Web 資料儲存；同 localStorage，但網頁關閉後，資料即消失</td>
			</tr>
			<tr>
				<td>
					<a href='https://developer.mozilla.org/zh-TW/docs/Web/API/IndexedDB_API/Using_IndexedDB' target='_parent'>
						indexedDB
					</a >
				</td>
				<td>NoSQL 資料庫</td>
			</tr>
			<tr>
				<td>
					<a href='http://www.runoob.com/html/html5-web-sql.html' target='_parent'>
						openDatabase
					</a>
				</td>
				<td>SQLite 資料庫
					<ol type='a'>
						<li>openDatabase(dbName, verName, description, capacity)
							<ol type='1'>
									<li>capacity：資料庫空間，單位是 byte</li>
									<li>回傳一個 db 物件</li>
							</ol>
						</li>
						<li>db.transaction(callback)<br/>

						</li>
						<li>tx.executeSql(sql[, values, successCB, errorCB])
							<ol type='1'>
								<li>sql 語法</li>
								<li>values：陣列值，當 sql 語法中有 ? 時會用 values 中的元素取代，如果沒有要用請放 null</li>
								<li>success callback：callbacke 回傳 tx 跟 results 2個參數；
									results 參數有下列屬性
									<ul>
											<li>rowsAffected：執行 insert, update, delete 語法時，回傳影響的資料列筆數</li>
											<li>rows：執行 select 語法時，回傳查詢結果資料列</li>
											<li>insertId：執行 insert 語法時，回傳新增資料列的 rowID</li>
									</ul>
								</li>
								<li>error callback：callbacke 回傳 tx 跟 error 2個參數</li>
							</ol>
						</li>
					</ol>
					<pre>
						<code class='javascript'>
							var db = openDatabase('BiPOS', '1.0', 'POS', 10 * 1024 * 1024);
							db.transaction(function (tx) {  
								tx.executeSql('create table if not exists ' +
									'PRODUCT(ID int not null, PC_NAME varchar(10), primary key(id)');
								tx.executeSql('insert into PRODUCT (ID, PC_NAME) VALUES (1, "紅茶")');
								tx.executeSql('insert into PRODUCT (ID, PC_NAME) VALUES (2, "可樂")');
							});

							db.transaction(function (tx) {
								tx.executeSql('select * from PRODUCT', [], function (tx, results) {
									console.log("筆數: " + results.rows.length);
									for (var i = 0; i < results.rows.length; i++){
										console.log( results.rows.item(i).PC_NAME );
									}
								}, null);
							});
						</code>
					</pre>
				</td>
			</tr>
		</table>
	<table class='tutor' width="100%">
		<tr><th style="width: 130px;">屬性</th><th>描述</th></tr>
		<tr>
			<td>frames</td>
			<td>取得 window 內的 iframe 的陣列集合</td>
		</tr>
		<tr>
			<td>self</td>
			<td>目前的瀏覽視窗</td>
		</tr>
		<tr>
			<td>parent</td>
			<td>若是 iframe，則指父視窗，反之會等同於 self</td>
		</tr>
		<tr>
			<td>top</td>
			<td>最上層的瀏覽視窗；如沒有，則等同於 self</td>
		</tr>
		<tr>
			<td>innerWidth</td>
			<td rowspan="6"><img height="100%" src="../images/windowScreen.png" /></td>
		</tr>
		<tr>
			<td>innerHeight</td>
		</tr>
		<tr>
			<td>outerWidth</td>
		</tr>
		<tr>
			<td>outerHeight</td>
		</tr>
		<tr>
			<td>screenY<br/>screenTop</td>
		</tr>
		<tr>
			<td>screenX<br/>screenLeft</td>
		</tr>
		<tr>
			<td>scrollX<br/>pageXOffset</td>
			<td>以 px 為單位，返回水平軸上 document 已經被捲去的寬度</td>
		</tr>
		<tr>
			<td>scrollY<br/>pageYOffset</td>
			<td>以 px 為單位，返回垂直軸上 document 已經被捲去的高度</td>
		</tr>
	</table>

	<table class='tutor' width="100%">
		<tr><th>方法</th><th>描述</th></tr>
		<tr>
			<td>alert(msg)</td>
			<td>訊息對話盒</td>
		</tr>
		<tr>
			<td>confirm(msg)</td>
			<td>訊息對話盒；傳回 true / false</td>
		</tr>
		<tr>
			<td>prompt(msg, defaultValue)</td>
			<td>提示對話盒；傳回對話盒中的輸入值</td>
		</tr>
		<tr>
			<td>print()</td>
			<td>列印網頁的內容</td>
		</tr>
		<tr>
			<td>setInterval(callback, n)</td>
			<td>週期計時器，延遲 n 毫秒執行；傳回 id</td>
		</tr>
		<tr>
			<td>clearInterval(id)</td>
			<td>結束週期計時器</td>
		</tr>
		<tr>
			<td>setTimeout(callback, n)</td>
			<td>一次計時器，延遲 n 毫秒執行；傳回 id</td>
		</tr>
		<tr>
			<td>clearTimeout(id)</td>
			<td>結束一次計時器</td>
		</tr>
		<tr>
			<td>requestAnimationFrame(callback)</td>
			<td>取代 setTimeout 及 setInterval；傳回 id</td>
		</tr>
		<tr>
			<td>cancelAnimationFrame(id)</td>
			<td>結束 requestAnimationFrame</td>
		</tr>
		<tr>
			<td>
					<a href='https://developer.mozilla.org/zh-TW/docs/Web/API/Fetch_API/Using_Fetch' target='_parent'>
						fetch()
					</a>
			</td>
			<td>遠端資料請求</td>
		</tr>
		<tr>
			<td>
				<a href='https://developer.mozilla.org/zh-CN/docs/Web/API/Window/postMessage' target='_parent'>
					postMessage()
				</a>
			</td>
			<td>不同 window 間傳送訊息；以 onmessage 接收訊息</td>
		</tr>
		<tr>
			<td>getSelection()</td>
			<td>取得選取文字<br/>
				例：window.getSelection().toString().trim();
			</td>
		</tr>
	</table>
	<table class='tutor' width="100%">
		<tr><th style="width: 130px;">事件</th><th>描述</th></tr>
		<tr>
			<td>onload</td>
			<td>視窗下載網頁完成時</td>
		</tr>
		<tr>
			<td>onunload</td>
			<td>結束視窗時</td>
		</tr>
		<tr>
			<td>onmessage</td>
			<td>收到別的視窗呼叫 postMessage 時</td>
		</tr>
		<tr>
			<td>onfocus</td>
			<td>視窗獲得焦點時</td>
		</tr>
		<tr>
				<td>onblur</td>
				<td>視窗失去焦點時</td>
			</tr>
		<tr>
			<td>ononline</td>
			<td>網頁連線時</td>
		</tr>
		<tr>
			<td>onoffline</td>
			<td>失去網頁連線時</td>
		</tr>
		<tr>
			<td>onresize</td>
			<td>改變視窗大小時</td>
		</tr>
		<tr>
			<td>onstorage</td>
			<td>localStorage 或 sessionStorage 資料異動時</td>
		</tr>
	</table>

<!--
	<a href='' target='_parent'>
		
	</a><br/>
-->
</body>
<script>
	$(document).ready(function(){
	});
</script>
</html>