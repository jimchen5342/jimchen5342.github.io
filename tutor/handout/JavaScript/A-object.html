<!DOCTYPE html>
<html>
<head>
	<title>自訂物件</title>
	<meta charset="utf-8">
	<style type="text/css">
	</style>
	<script src="system.js"></script>
</head>
<body>
</body>
<script>
  let Person = {               // 宣告
    name: "john", 
    age: 25, 
    show: function(){ 
      return this.name + " is " + this.age; 
    },
    setName: function(name){
      this.name = name;
    },
    loop: function(callback){
      let self = this;         // 注意.....
      setTimeout(function(){
        write("setTimeout: " + self.show());
        if(typeof callback == "function")
          callback();
      }, 1000);
    }
  }
  
  let p = new Object(Person);  // 實例化
  p.setName("jim");
  write("name: " + p.name);
  write(p.show());
  p.loop(function() {
    delete p.name;             // 回收
    write("name: " + p.name);
    p = null;                  // 回收    
    write("p: " + p);
  });
</script>
</html>