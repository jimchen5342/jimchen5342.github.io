webpackJsonp([4],{"+Uq5":function(t,e){},"B+j8":function(t,e){},GjWj:function(t,e,n){"use strict";var i=n("//Fk"),o=n.n(i),r=n("fZjL"),d=n.n(r),a=n("woOf"),s=n.n(a),c={name:"UEditor",data:function(){return{id:"editor"+Math.random().toString().slice(-10),editor:null,defaultConfig:{UEDITOR_HOME_URL:"./static/UEditor/",autoHeightEnabled:!1,initialFrameHeight:600,scaleEnabled:!0,initialFrameWidth:"100%",zIndex:9999},section:[],defaultProps:{children:"children",label:"label"}}},props:{value:{type:String,default:""},config:{type:Object,default:function(){return{}}}},created:function(){console.clear()},mounted:function(){},beforeDestroy:function(){this.editor.destroy()},computed:{mixedConfig:function(){return s()({},this.defaultConfig,this.config)}},methods:{test:function(){},onNodeClick:function(t){var e=this;this.editor.focus(),this.editor.execCommand("selectsection",t.address,!0),setTimeout(function(){e.editor.selection.getStart().scrollIntoView()},100)},updateSections:function(){var t=this.editor.execCommand("getsections");function e(t,e){for(var n=0,i=0;n<t.length&&(null!=t.charAt(n).match(/[^\x00-\xff]/g)?i+=2:i++,!(i>e));n++);return t.substr(0,n)}this.section=function t(n){var i=[];if(n.children.length)for(var o=0;o<n.children.length;o++){var r=n.children[o],d={label:e(r.title,18),address:r};r.children.length&&(d.children=t(r)),i.push(d)}return i}(t)},resize:function(){var t=this.$refs.editor,e=document.querySelector("#"+this.id+" .edui-editor-toolbarbox"),n=document.querySelector("#"+this.id+" .edui-editor-bottomContainer");this.editor.setHeight(t.clientHeight-e.clientHeight-n.clientHeight-5)},_beforeInitEditor:function(t){var e=this;window.UE&&window.UEDITOR_CONFIG&&0!==d()(window.UEDITOR_CONFIG).length&&window.UE.getEditor?this._initEditor(t):this._loadScripts().then(function(){return e._initEditor(t)})},_initEditor:function(t){var e=this,n=this;this.$nextTick(function(){e.editor=UE.getEditor(e.id,e.mixedConfig),e.editor.addListener("updateSections",e.updateSections),e.editor.addListener("ready",function(){e.$emit("ready",e.editor),"string"==typeof localStorage.ueditor?e.editor.setContent(localStorage.ueditor):e.editor.setContent(t),e.editor.addListener("contentChange",function(){localStorage.ueditor=e.editor.getContent(),e.$emit("input",e.editor.getContent())}),n.test(),window.onresize=function(){n.resize()},n.resize()})})},_loadScripts:function(){var t=this;return window.loadEnv?new o.a(function(t,e){window.addEventListener("loadEnv",function(){t()})}):(window.loadEnv=new Event("loadEnv"),new o.a(function(e,n){t._loadConfig().then(function(){return t._loadCore()}).then(function(){window.dispatchEvent(window.loadEnv),e()})}))},_loadConfig:function(){var t=this;return new o.a(function(e,n){if(window.UE&&window.UEDITOR_CONFIG&&0!==d()(window.UEDITOR_CONFIG).length)e();else{var i=document.createElement("script");i.type="text/javascript",i.src=t.mixedConfig.UEDITOR_HOME_URL+"ueditor.config.js",document.getElementsByTagName("head")[0].appendChild(i),i.onload=function(){window.UE&&window.UEDITOR_CONFIG&&0!==d()(window.UEDITOR_CONFIG).length?e():console&&console.error("加载ueditor.config.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!")}}})},_loadCore:function(){var t=this;return new o.a(function(e,n){if(window.UE&&window.UE.getEditor)e();else{var i=document.createElement("script");i.type="text/javascript",i.src=t.mixedConfig.UEDITOR_HOME_URL+"ueditor.all.min.js",document.getElementsByTagName("head")[0].appendChild(i),i.onload=function(){window.UE&&window.UE.getEditor?e():console&&console.error("加载ueditor.all.min.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!")}}})},_setContent:function(t){t===this.editor.getContent()||this.editor.setContent(t)}},watch:{value:{handler:function(t){this.editor?this._setContent(t):this._beforeInitEditor(t)},immediate:!0}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{ref:"section",staticClass:"section"},[e("div",{staticStyle:{border:"1px solid #eee","text-align":"center",padding:"10px",width:"100%"}},[this._v("大綱")]),this._v(" "),e("div",{staticClass:"tree"},[e("el-tree",{attrs:{props:this.defaultProps,data:this.section},on:{"node-click":this.onNodeClick}})],1)]),this._v(" "),e("div",{ref:"editor",staticClass:"editor"},[e("script",{attrs:{id:this.id,type:"text/plain"}})])])},staticRenderFns:[]};var u={name:"home",components:{UEdiotr:n("VU/8")(c,l,!1,function(t){n("+Uq5")},null,null).exports},data:function(){return{config:{}}},created:function(){console.clear()},mounted:function(){}},f={render:function(){var t=this.$createElement;return(this._self._c||t)("UEdiotr",{attrs:{config:this.config}})},staticRenderFns:[]};var h=n("VU/8")(u,f,!1,function(t){n("i4bO")},null,null);e.a=h.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),o=n("GjWj"),r=n("YaEn"),d=n("zL8q"),a=n.n(d),s=n("tvR6"),c=(n.n(s),n("gwsl")),l=n.n(c);i.default.config.productionTip=!1,i.default.use(a.a,{locale:l.a,size:"small"}),new i.default({el:"#app",router:r.a,components:{Home:o.a},template:"<Home/>"})},YaEn:function(t,e,n){"use strict";var i=n("7+uW"),o=n("/ocq"),r=n("GjWj"),d={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("Main List")])},staticRenderFns:[]};var a=n("VU/8")({name:"List"},d,!1,function(t){n("B+j8")},null,null).exports;i.default.use(o.a);e.a=new o.a({routes:[{path:"/",name:"home",component:r.a},{path:"/list",name:"list",component:a}]})},i4bO:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.248a46083e6ee9052741.js.map