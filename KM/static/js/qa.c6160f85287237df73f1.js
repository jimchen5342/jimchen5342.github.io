webpackJsonp([3],{"4eJ2":function(t,e){},"B+j8":function(t,e){},GjWj:function(t,e,n){"use strict";var i=n("//Fk"),o=n.n(i),r=n("fZjL"),s=n.n(r),a=n("woOf"),c=n.n(a),d={name:"UEditor",data:function(){return{id:"editor"+Math.random().toString().slice(-10),editor:null,defaultConfig:{UEDITOR_HOME_URL:"../static/UEditor/",autoHeightEnabled:!1,initialFrameHeight:600,scaleEnabled:!0,initialFrameWidth:"100%",zIndex:9999},section:[],defaultProps:{children:"children",label:"label"}}},props:{value:{type:String,default:""},config:{type:Object,default:function(){return{}}}},created:function(){console.clear()},mounted:function(){},beforeDestroy:function(){this.editor.destroy()},computed:{mixedConfig:function(){return c()({},this.defaultConfig,this.config)}},methods:{test:function(){},onNodeClick:function(t){var e=this;this.editor.focus(),this.editor.execCommand("selectsection",t.address,!0),setTimeout(function(){e.editor.selection.getStart().scrollIntoView()},100)},updateSections:function(){var t=this.editor.execCommand("getsections");function e(t,e){for(var n=0,i=0;n<t.length&&(null!=t.charAt(n).match(/[^\x00-\xff]/g)?i+=2:i++,!(i>e));n++);return t.substr(0,n)}this.section=function t(n){var i=[];if(n.children.length)for(var o=0;o<n.children.length;o++){var r=n.children[o],s={label:e(r.title,18),address:r};r.children.length&&(s.children=t(r)),i.push(s)}return i}(t)},resize:function(){var t=this.$refs.editor,e=document.querySelector("#"+this.id+" .edui-editor-toolbarbox"),n=document.querySelector("#"+this.id+" .edui-editor-bottomContainer");this.editor.setHeight(t.clientHeight-e.clientHeight-n.clientHeight-5)},_beforeInitEditor:function(t){var e=this;window.UE&&window.UEDITOR_CONFIG&&0!==s()(window.UEDITOR_CONFIG).length&&window.UE.getEditor?this._initEditor(t):this._loadScripts().then(function(){return e._initEditor(t)})},_initEditor:function(t){var e=this,n=this;this.$nextTick(function(){e.editor=UE.getEditor(e.id,e.mixedConfig),e.editor.addListener("updateSections",e.updateSections),e.editor.addListener("ready",function(){e.$emit("ready",e.editor),"string"==typeof localStorage.ueditor?e.editor.setContent(localStorage.ueditor):e.editor.setContent(t),e.editor.addListener("contentChange",function(){localStorage.ueditor=e.editor.getContent(),e.$emit("input",e.editor.getContent())}),n.test(),window.onresize=function(){n.resize()},n.resize()})})},_loadScripts:function(){var t=this;return window.loadEnv?new o.a(function(t,e){window.addEventListener("loadEnv",function(){t()})}):(window.loadEnv=new Event("loadEnv"),new o.a(function(e,n){t._loadConfig().then(function(){return t._loadCore()}).then(function(){window.dispatchEvent(window.loadEnv),e()})}))},_loadConfig:function(){var t=this;return new o.a(function(e,n){if(window.UE&&window.UEDITOR_CONFIG&&0!==s()(window.UEDITOR_CONFIG).length)e();else{var i=document.createElement("script");i.type="text/javascript",i.src=t.mixedConfig.UEDITOR_HOME_URL+"ueditor.config.js",document.getElementsByTagName("head")[0].appendChild(i),i.onload=function(){window.UE&&window.UEDITOR_CONFIG&&0!==s()(window.UEDITOR_CONFIG).length?e():console&&console.error("加载ueditor.config.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!")}}})},_loadCore:function(){var t=this;return new o.a(function(e,n){if(window.UE&&window.UE.getEditor)e();else{var i=document.createElement("script");i.type="text/javascript",i.src=t.mixedConfig.UEDITOR_HOME_URL+"ueditor.all.min.js",document.getElementsByTagName("head")[0].appendChild(i),i.onload=function(){window.UE&&window.UE.getEditor?e():console&&console.error("加载ueditor.all.min.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!")}}})},_setContent:function(t){t===this.editor.getContent()||this.editor.setContent(t)}},watch:{value:{handler:function(t){this.editor?this._setContent(t):this._beforeInitEditor(t)},immediate:!0}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{ref:"section",staticClass:"section"},[e("div",{staticStyle:{border:"1px solid #eee","text-align":"center",padding:"10px",width:"100%"}},[this._v("大綱")]),this._v(" "),e("div",{staticClass:"tree"},[e("el-tree",{attrs:{props:this.defaultProps,data:this.section},on:{"node-click":this.onNodeClick}})],1)]),this._v(" "),e("div",{ref:"editor",staticClass:"editor"},[e("script",{attrs:{id:this.id,type:"text/plain"}})])])},staticRenderFns:[]};var u={name:"home",components:{UEdiotr:n("VU/8")(d,l,!1,function(t){n("P9Fs")},null,null).exports},data:function(){return{config:{}}},created:function(){console.clear()},mounted:function(){}},f={render:function(){var t=this.$createElement;return(this._self._c||t)("UEdiotr",{attrs:{config:this.config}})},staticRenderFns:[]};var h=n("VU/8")(u,f,!1,function(t){n("i4bO")},null,null);e.a=h.exports},O1kG:function(t,e){},P9Fs:function(t,e){},XT5n:function(t,e,n){"use strict";var i=(new Date).getTime(),o={name:"vue-ckeditor",props:{name:{type:String,default:function(){return"editor-"+ ++i}},value:{type:String},id:{type:String,default:function(){return"editor-"+i}},types:{type:String,default:function(){return"classic"}},config:{type:Object,default:function(){}}},data:function(){return{destroyed:!1,outline:[{label:"第一章",children:[{label:"第一節"},{label:"第二節"}]}],defaultProps:{children:"children",label:"label"}}},computed:{instance:function(){return CKEDITOR.instances[this.id]}},watch:{value:function(t){try{this.instance&&this.update(t)}catch(t){}}},mounted:function(){this.create()},beforeDestroy:function(){this.destroy()},methods:{onNodeClick:function(t){console.log(t)},create:function(){var t=this;console.clear();var e=this,n={toolbar:[["Source","-","Save","NewPage","Preview","Print","-","Templates"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"],["Find","Replace","-","SelectAll","-","Scayt"],["Bold","Italic","Underline","Strike","Subscript","Superscript","-","CopyFormatting","RemoveFormat"],["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["Link","Unlink","Anchor"],["Image","Flash","Youtube","Table","HorizontalRule","Smiley","SpecialChar","PageBreak","Iframe"],["Styles","Format","Font","FontSize"],["TextColor","BGColor"],["Maximize","ShowBlocks"],["About"]]};for(var i in n)void 0===this.config[i]&&(this.config[i]=n[i]);"undefined"==typeof CKEDITOR?console.log("CKEDITOR is missing (http://ckeditor.com/)"):("inline"===this.types?CKEDITOR.inline(this.id,this.config):CKEDITOR.replace(this.id,this.config),this.instance.setData(this.value),this.instance.on("instanceReady",function(e){t.instance.setData(t.value),t.resize()}),this.instance.on("change",this.onChange),this.instance.on("blur",this.onBlur),this.instance.on("focus",this.onFocus),this.instance.on("afterCommandExec",function(t){var n=t.data.name;console.log("commandName: "+n);var i=e.instance.getSelection(),o=i.getStartElement();i.selectElement(o),console.log(i),console.log(o)}),window.onresize=function(){e.resize()})},resize:function(){var t=this.$refs.ckeditor;this.instance.resize("100%",t.clientHeight)},update:function(t){this.instance.getData()!==t&&this.instance.setData(t,{internal:!1})},destroy:function(){this.destroyed||(this.instance.focusManager.blur(!0),this.instance.removeAllListeners(),this.instance.destroy(),this.destroyed=!0)},onChange:function(){var t=this.instance.getData();t!==this.value&&this.$emit("input",t)},onBlur:function(){this.$emit("blur",this.instance)},onFocus:function(){this.$emit("focus",this.instance)}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{ref:"outline",staticClass:"outline"},[n("div",{staticStyle:{border:"1px solid #eee","text-align":"center",padding:"10px"}},[t._v("大綱")]),t._v(" "),n("div",[n("el-tree",{attrs:{props:t.defaultProps,data:t.outline},on:{"node-click":t.onNodeClick}})],1)]),t._v(" "),n("div",{ref:"ckeditor",staticClass:"ckeditor"},[n("textarea",{attrs:{name:t.name,id:t.id,types:t.types,config:t.config},domProps:{value:t.value}})])])},staticRenderFns:[]};var s={name:"home",components:{Ckeditor:n("VU/8")(o,r,!1,function(t){n("O1kG")},null,null).exports},data:function(){return{content:"",config:{}}},mounted:function(){},methods:{onBlur:function(t){},onFocus:function(t){}}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%"}},[n("ckeditor",{attrs:{config:t.config},on:{blur:function(e){t.onBlur(e)},focus:function(e){t.onFocus(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},staticRenderFns:[]};var c=n("VU/8")(s,a,!1,function(t){n("4eJ2")},null,null);e.a=c.exports},YaEn:function(t,e,n){"use strict";var i=n("7+uW"),o=n("/ocq"),r=n("GjWj"),s={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("Main List")])},staticRenderFns:[]};var a=n("VU/8")({name:"List"},s,!1,function(t){n("B+j8")},null,null).exports;i.default.use(o.a);e.a=new o.a({routes:[{path:"/",name:"home",component:r.a},{path:"/list",name:"list",component:a}]})},"Yv0/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),o=n("XT5n"),r=n("YaEn");i.default.config.productionTip=!1,new i.default({el:"#app",router:r.a,components:{Home:o.a},template:"<Home/>"})},i4bO:function(t,e){}},["Yv0/"]);
//# sourceMappingURL=qa.c6160f85287237df73f1.js.map